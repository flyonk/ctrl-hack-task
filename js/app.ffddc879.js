(function(){"use strict";var t={1571:function(t,o,e){var r=e(6369),n=function(){var t=this,o=t._self._c;return o("div",{attrs:{id:"app"}},[o("h2",[t._v("Тестовое задание для CtrlHack")]),o("router-view")],1)},a=[],u=e(1001),c={},i=(0,u.Z)(c,n,a,!1,null,null,null),s=i.exports,d=e(2631),l=function(){var t=this,o=t._self._c;return o("div",{staticClass:"home"},[o("div",{staticClass:"controls"},[o("div",{staticClass:"item"},[o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.product.price,expression:"product.price",modifiers:{number:!0}}],attrs:{type:"text",name:"price"},domProps:{value:t.product.price},on:{input:[function(o){o.target.composing||t.$set(t.product,"price",t._n(o.target.value))},function(o){return t.debouncedRecount("price")}],blur:function(o){return t.$forceUpdate()}}}),o("p",{staticClass:"description"},[t._v("Цена")])]),o("div",{staticClass:"item"},[o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.product.amount,expression:"product.amount",modifiers:{number:!0}}],attrs:{type:"text",name:"amount"},domProps:{value:t.product.amount},on:{input:[function(o){o.target.composing||t.$set(t.product,"amount",t._n(o.target.value))},function(o){return t.debouncedRecount("amount")}],blur:function(o){return t.$forceUpdate()}}}),o("p",{staticClass:"description"},[t._v("Количество")])]),o("div",{staticClass:"item"},[o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.product.sum,expression:"product.sum",modifiers:{number:!0}}],attrs:{type:"text",name:"sum"},domProps:{value:t.product.sum},on:{input:[function(o){o.target.composing||t.$set(t.product,"sum",t._n(o.target.value))},function(o){return t.debouncedRecount("sum")}],blur:function(o){return t.$forceUpdate()}}}),o("p",{staticClass:"description"},[t._v("Сумма")])]),o("div",{staticClass:"item"},[o("button",{staticClass:"send-btn",on:{click:t.postProductData}},[t._v("Отправить")]),o("pre",{staticClass:"controls--"},[t._v(t._s(t.labelData))])])]),o("div",{staticClass:"info"},[o("h4",[t._v(" Блок 9 с всеми данными (они обёрнуты в v-if) так, что для проверки попользуйтесь функционалом. ")]),o("div",{staticClass:"inputs-info"},[t.infoBlockData.oldProduct.price?o("p",[t._v(" Input price value changed from "+t._s(t.infoBlockData.oldProduct.price)+" to "+t._s(t.product.price)+" ")]):t._e(),t.infoBlockData.oldProduct.amount?o("p",[t._v(" Input amount value changed from "+t._s(t.infoBlockData.oldProduct.amount)+" to "+t._s(t.product.amount)+" ")]):t._e(),t.product.sum?o("p",[t._v(" Input sum value changed from "+t._s(t.infoBlockData.oldProduct.sum||0)+" to "+t._s(t.product.sum)+" ")]):t._e()]),o("div",{staticClass:"send-data"},[t.infoBlockData.oldProductData?o("div",{staticClass:"before"},[o("p",[t._v("Было на сервере до отправки данных:")]),o("pre",[t._v(t._s(t.infoBlockData.oldProductData))])]):t._e(),t.infoBlockData.newProductData?o("div",{staticClass:"after"},[o("p",[t._v("Данные отправленные на сервер:")]),o("pre",[t._v(t._s(t.infoBlockData.newProductData))])]):t._e()]),t.infoBlockData.lastServerResponse?o("div",{staticClass:"last-reponse"},[o("p",[t._v(" Последний статус ответа с сервера: "+t._s(t.infoBlockData.lastServerResponse)+" ")]),o("p",[t._v("Последние данные ответа с сервера:")]),o("pre",[t._v(" "+t._s(t.infoBlockData.newProductData)+" ")])]):t._e()])])},p=[],m=e(4806),f=e.n(m),v={name:"HomeView",data(){return{labelData:null,nonce:null,product:{price:0,amount:0,sum:0},infoBlockData:{oldProduct:{}}}},methods:{recountProductData(t){switch(t){case"price":this.product.sum=this.product.price*this.product.amount;break;case"amount":this.product.sum=this.product.price*this.product.amount;break;case"sum":this.product.amount=this.product.sum/this.product.price;break}},postProductData(){if(this.product.amount%2===1)return void(this.infoBlockData.lastServerResponse={success:!1});this.nonce++;const t={nonce:this.nonce,...this.product};this.infoBlockData.oldProductData=this.getProductDataFromServer,this.infoBlockData.newProductData=t,setTimeout((()=>{window.localStorage.setItem("product",JSON.stringify(t)),this.infoBlockData.lastServerResponse={success:!0},this.labelData=t}),1e3)},debouncedRecount:f().debounce((function(t){this.recountProductData(t)}),300)},beforeMount(){this.labelData=this.getProductDataFromServer;const t=this.getProductDataFromServer.nonce?this.getProductDataFromServer.nonce:0;this.nonce=t||0,this.infoBlockData.oldProductData=this.getProductDataFromServer},computed:{computedProductCopy(){return{...this.product}},getProductDataFromServer(){return JSON.parse(window.localStorage.getItem("product"))}},watch:{computedProductCopy:{handler(t,o){this.infoBlockData.oldProduct=o},deep:!0}}},h=v,_=(0,u.Z)(h,l,p,!1,null,"69ba8898",null),D=_.exports;r.ZP.use(d.ZP);const P=[{path:"/",name:"home",component:D}],b=new d.ZP({routes:P});var k=b,g=e(3822);r.ZP.use(g.ZP);var w=new g.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});r.ZP.config.productionTip=!1,new r.ZP({router:k,store:w,render:t=>t(s)}).$mount("#app")}},o={};function e(r){var n=o[r];if(void 0!==n)return n.exports;var a=o[r]={id:r,loaded:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}e.m=t,function(){var t=[];e.O=function(o,r,n,a){if(!r){var u=1/0;for(d=0;d<t.length;d++){r=t[d][0],n=t[d][1],a=t[d][2];for(var c=!0,i=0;i<r.length;i++)(!1&a||u>=a)&&Object.keys(e.O).every((function(t){return e.O[t](r[i])}))?r.splice(i--,1):(c=!1,a<u&&(u=a));if(c){t.splice(d--,1);var s=n();void 0!==s&&(o=s)}}return o}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[r,n,a]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){e.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,r){var n,a,u=r[0],c=r[1],i=r[2],s=0;if(u.some((function(o){return 0!==t[o]}))){for(n in c)e.o(c,n)&&(e.m[n]=c[n]);if(i)var d=i(e)}for(o&&o(r);s<u.length;s++)a=u[s],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(d)},r=self["webpackChunkctrl_hack_task"]=self["webpackChunkctrl_hack_task"]||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(1571)}));r=e.O(r)})();
//# sourceMappingURL=app.ffddc879.js.map